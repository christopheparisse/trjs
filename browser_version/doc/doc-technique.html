<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>TranscriberJS - Documentation et Implémentation</title>
  <meta name="generator" content="Amaya, see http://www.w3.org/Amaya/" />
</head>
<body>
<section>
<h1>Cahier des charges Transcriber JS</h1>
<h2>Fonctionnalité de base de la version beta</h2>
<h3>Section input/output</h3>
<ul>
<li>Lecture fiable des fichiers externes (TEIML) avec utilisation des médias spécifiés dans la transcription</li>
<li>Ecriture fiable (à l’identique et TEIML) des fichiers transcrits avec toutes informations multimédias</li>
<li>---</li>
<li>Lecture et écriture de formats différents</li>
<ul>
<li>--: clan et transcriber et elan (avec le server)</li>
<li>--: praat (avec le server mais ajustement des paramètres)</li>
<li>--: TEIML ou TEIXML (en direct)</li>
<li>--: texte ou texte avec loc pour réalignement de la vidéo ou du son</li>
</ul>
<li>Conversions des fichiers audio et vidéo</li>
<li>Visualisation de la zone de stockages des fichiers</li>
</ul>
<h3>Section édition</h3>
<ul>
<li>Edition simple de la ligne principale et des secondaires</li>
    <ul>
	<li>--: parties cachées et visibles</li>
        <ul>
		<li>--: fonctions pour cacher montrer des locs complets avec les tiers associés</li>
		<li>--: fonctions pour cacher montrer les divs et ne laisser qu'une ligne</li>
		</ul>
	<li>--: INSERTION(s)</li>
        <ul>
		<li>--: sous ligne courante sans temps (option pour avec temps avec seulement new begining dans l'insertion pas de motif de la fin du courant)</li>
		<li>--: loc suivant avec temps -- motif fin et création début suivant -- (option pour sans temps)</li>
		<li>--: en fin de fichier</li>
		<li>--: réalignement : motif fin et du début suivant (sans insertion donc et de principal en principal)</li>
		<li>--: alignement début</li>
		<li>--: alignement fin</li>
		<li>--: couper une ligne en deux parties (dupliquer une ligne).</li>
		<li>--: rassembler deux lignes en une seule partie.</li>
		</ul>
	<li>--: ENTER</li>
        <ul>
        <li>--: mode insertion : ajout locuteur et création de nouveau temps</li>
        <li>--: mode replace : réalignement - modification du temps de fin et nouveau temps de début.</li> 
        </ul>
	<li>--: locuteurs</li> 
        <ul>
        <li>--: raccourcis + menus et cmd+click</li>
        <li>--: si new alors confirmer et éditer loc dans persons</li>
        <li>--: prop</li>
        <li>--: idem locuteurs</li>
        <li>--: temps</li>
        <li>--: édition locale optionnelle (cliquer en haut de colonne - ou cmd+click)</li>
        </ul>
	</ul>
<li>Edition contrôlée des utilisateurs et des tiers</li>
    <ul>
	<li>--: person (y comprise pour conversion) et long name, full name et code=short name</li>
    </ul>
<li>Edition des métadonnées, locuteurs, templates</li>
    <ul>
	<li>--: metadonnees media et notes</li>
	<li>--: templates (y compris ELAN et conversions depuis d'autres) - extraires les templates ?</li>
    </ul>
<li>Edition contrôlée des divs</li>
    <ul>
    <li>---</li>
    </ul>
</ul>
<h3>Installation</h3>
activation d'apache:
modification des paramètres:
./params_apache httpd.conf 8081 /media /tei1 /corpusoraux /tei2 /projects/data
relancer apache
sudo cp temporary /etc/apache2/httpd.conf
sudo apachectl graceful

<h3>Section recherche</h3>
<ul>
<li>Recherche de motifs et saut d’un emplacement à un autre</li>
<li>Remplacement de motif par un autre</li>
</ul>
</section>
<section>
<h2>Eléments techniques</h2>
<h3>Organisation des données dans la table de transcription</h3>
<ul>
<li>A la lecture de départ création d'un tableau {data} de longueur datalg avec chaque élément correspondant
à une ligne de transcrition</li>
<ul>
<li>type: div (division of text) / loc (main ortho) / prop (sous-tier)</li>
<li>loc: code for locutor or sub-tier</li>
<li>ts: time start</li>
<li>te: time end</li>
<li>vts: display time start</li>
<li>vte: display time end</li>
<li>transcription</li>
</ul>
<li>On crée ensuite une table HTML avec des TR et des TD</li>
<ul>
<li>TR: "type"=div/loc/prop name=+div+/-div-/code id=l"int" (id permet l'accès aux lignes directement)
visible: 0/1 (visible/hidden) + 00/10 (visiblediv/hiddendiv) color:xxx (allow to change temparally a color
and put the color back) class='div code prop real-code' (for css) real-code is called code-CHI or prop-CHI
to help distinguish participants and tiers with the same names</li>
<li>TD: LINECOL: numéros de lignes :-- pour fin de présentation des données class='num'</li>
<li>TD: TOOLCOL: buttons (À DÉFINIR) :-- pour fin de présentation des données class='info'</li>
<li>TD: CODECOL: type=div/loc/prop code=+div+/-div-/code-loc/code-tier - class='div code prop' (for css)</li>
<li>TD: TSCOL: ts := real time start - class='ts'</li>
<li>TD: TECOL: te := real time end - class='te'</li>
<li>TD: VTSCOL: vts := display of time start - class='vts'</li>
<li>TD: VTECOL: vte := display of time end - class='vte'</li>
<li>TD: TRCOL: transcription - class='transcription'</li>
</ul>
</ul>
</section>
<section>
<h3>Compléments à envisager</h3>
<ul>
<li>Cacher certaines lignes et les traiter en blocs (fait pour div et recheche)</li>
<li>Chargement d’un correcteur lexical</li>
</ul>
<h2>Elements à réaliser</h2>
Edition des champs temps<br/>
<br/>
Couleurs des locuteurs et sous-champs<br/>
?Boutons des raccourcis sur 4 colonnes si film taille petite (fait pour son)<br/>
<br/>
repérer automatiquement les seeked<br/>
<br/>
Timeout automatique sur les saves et noter si modifié<br/>
?Lecture et écriture d'autres formats<br/>
<br/>
New file avec template<br/>
<br/>
Sauvegarde incrémentale<br/>
?Multitask<br/>
Jouer une seconde avant/après - paramètres ?<br/>
Aide des commandes<br/>
Paramètres du programme : gestion du clavier et choix<br/>
Changer taille de fonte<br/>
<br/>
?Vision des fichiers sur l'ordinateur<br/>
    ?Afficher les noms de répertoire puis deux colonnes cote à cote avec d'un coté les transcriptions (xml et autres formats) et de l'autre coté les médias (multiple formats) - le format de base est généré répertoire par répertoire à la volée puis mis en format en javascript (afficher/masquer des parties de tables)<br/>
    ?réécrire en divs verticaux<br/>
    réécrire avec Node.js<br/>
<br/>
Vocabulaires<br/>
?Recherche de motifs : saut de résultat en résultat + bonnes couleurs<br/>
</section>
<section>
<h2>Test de configurations</h2>
/*--------------------------------------------------*/<br/>
TEST : ordi Palis Salon<br/>
Windows XP - service pack 2 - 2002<br/>
Pentium 4 1,60 Ghz 768Mo RAM<br/>
FirefoxSetup22.0.exe --> OK (22 Mo)<br/>
ChromeStandaloneSetup.exe --> BAD<br/>
Pas de communication internet<br/>
-- chargement video ogv de 322Mo -- un peu lent video non fluide au chargement<br/>
-- transcription de 210Ko 1H - 15 sec environ -- lecture F8 continuous OK.<br/>
-- bug résolue sur le lien clavier-gestionnaire d'événement<br/>
--> utiliser onkeydown=function(event) dans html plutôt que $('body').keydown(fonction)<br/>
/*--------------------------------------------------*/<br/>
</section>
<section>
<h2>Elements réalisés</h2>
#Couleurs progressives<br/>
#Metadata<br/>
#Participants<br/>
#Suppression mémoire file new et load<br/>
#New file<br/>
#Générer le javadoc<br/>
#Reecrire tous les bouts avec handsontable et évitant la duplication des données<br/>
#Jouer plusieurs lignes<br/>
#Enchainement des médias avec le texte<br/>
#Edition des @div+ (confondus avec u), des searchs et des marqueurs de temps (réels et fictifs) lors de insertion et F4 et F5<br/>
#Gestion du clavier affinée notamment autres tables<br/>
Creer un gestionnaire de clavier adapté pour les différentes tables remplacant handsontable<br/>
Relooker les tables<br/>
Bordure autour des parties cachées/masquées (open, person, temp, meta, search)<br/>
save the new file (in memory should be ok) and reload immediately (bug sur new)
gérer les div:
mettre automatiquement des fins de div
touche de fonction pour la création de div
Edit DIV et Insert Main fin de bloc<br/>
Remonter aux lignes parentes dans les cas où cela fait sens pour les touches de fonctions<br/>
?Ajout de ligne ! - mecanisme intelligent autour du retour chariot<br/>
?Touches intelligentes + toutes les façons d'arrêter F8 (par F8, par déplacement de temps, par sélection d'une zone à éditer - F1 et play/pause interrompent et reprennent).<br/>
pouvoir cliquer sur toutes les images en dehors du focus mais vérifier transcription sans quitter le clavier.<br/>
?Edition des divs<br/>
Controler les divs<br/>
autres métadonnées : Format persons + metadata + info sur media<br/>
Media information and location<br/>
Lier participants, template et controle de la transcription<br/>
Liens entre principale et dépendante<br/>
Limiter nombre de sauvegardes<br/>
bug sur insertion en fin de fichier<br/>
ne pas insérer de div ? insérer loc et modifier après.<br/>
Modification des paramètres utilisateur (ajustement sauts gauche et droite)<br/>
?Boutons video + resize: mettre function sur resize video ?<br/>
?Masquer une partie de la transcription<br/>
?save et sauvegarde : écraser l'ancien fichier avec renommage ou local mais indiquer si diff. avec disque en cas de relancement du programme.<br/>
Son : visio et alternance video/son<br/>
/*--------------------------------------------------*/
</section>
<section>
<h2>A prévoir</h2>
<h3>Insertion dans les transcriptions</h3>
<table style='font-style: italic;'>
<tr><td>Alt Ctrl P</td><td>Pause (.) (..) (...)</td></tr>
<tr><td>Alt Ctrl M</td><td>Meta information [= ]</td></tr>
<tr><td>Alt Ctrl A</td><td>Alternative transcription [: ]</td></tr>
<tr><td>Alt Ctrl E</td><td>Error [* ]</td></tr>
<tr><td>Alt Ctrl H</td><td>Hesitations [/] [//] [///]</td></tr>
</section>
</body>
</html>


