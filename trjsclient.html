<!doctype html>
<html lang=en>
<head>
    <title>transcriber.js - editor</title>
    <meta charset=utf-8/>
    <!-- 	<script>
            // Prevent error dialogs from displaying -which is the window's normal
            // behavior- by overriding the default event handler for error events that
            // go to the window.
            // window.onerror = null;

            // Development handling of errors
            var gOldOnError = window.onerror;
            // Override previous handler.
            window.onerror = function myErrorHandler(errorMsg, url, lineNumber) {
                bootboxalert("window.onerror: " + errorMsg + " " + url + " " + lineNumber);
                if (gOldOnError)
                    // Call previous handler.
                    return gOldOnError(errorMsg, url, lineNumber);

                // Just let default handler run.
                return false;
            };
         </script>
    -->
    <script>
        var global = global || {};
        global.applicationTarget = {type: 'client', server: 'html', location: 'local', html: 'trjsclient.html'};
    </script>
    <!--
    	include-js.html
    	set of thrid party javascript include files or external library files (tei...js)
    -->

    <script src="js/jquery.js"></script>


    <script src="js/jquery.dataTables.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap-submenu.js"></script>
    <script src="js/bootbox.js"></script>
    <script src="js/jquery.csv-0.71.js"></script>
    <script src="js/filesaver.js"></script>
    <script src="js/parseuri.js"></script>
    <script src="js/sprintf.js"></script>
    <script src="js/html-docx.js"></script>
    <script src="js/jszip.js"></script>
    <script src="js/xlsx_array.js"></script>
    <script src="js/teiconverttools.js"></script>
    <script src="js/teidocx.js"></script>
    <script src="js/teiexportxlsx.js"></script>
    <script src="js/rangy-core.js"></script>

    <script src="js/socket.io.js"></script>
    <script src="js/tree.jquery.js"></script>


    <!--
    	include-editor.html
    	set of transcriberjs javascript include files
    -->

    <script src="editor/messgs.js"></script>
    <script src="editor/version.js"></script>
    <script src="editor/codefn.js"></script>

    <script src="editor/data.js"></script>
    <script src="editor/params.js"></script>
    <script src="editor/editor.js"></script>
    <script src="editor/utils.js"></script>
    <script src="editor/media.js"></script>
    <script src="editor/opensave.js"></script>
    <script src="editor/local.js"></script>
    <script src="editor/templates.js"></script>
    <script src="editor/dataload.js"></script>
    <script src="editor/transcription.js"></script>
    <script src="editor/events.js"></script>
    <script src="editor/macros.js"></script>
    <script src="editor/drawmovezoom.js"></script>
    <script src="editor/sliders.js"></script>
    <script src="editor/partition.js"></script>
    <script src="editor/progress.js"></script>
    <script src="editor/logs.js"></script>
    <script src="editor/help.js"></script>
    <script src="editor/undo.js"></script>
    <script src="editor/check.js"></script>
    <script src="editor/tablekeyboard.js"></script>
    <script src="editor/init.js"></script>

    <script src="editor/wave.js"></script>
    <script src="editor/decim.js"></script>
    <script src="editor/drag.js"></script>

    <script src="systemcall/fsioserver.js"></script>
    <script src="systemcall/filetree.js"></script>

    <script src="editor/dataload05.js"></script>


    <script>
        trjs.init('e6');
    </script>
    <!--
    	include-styles.html
    	set of css include files
    -->

    <link rel="stylesheet" type="text/css" href="style/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="style/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="style/utils.css" />
    <link rel="stylesheet" type="text/css" href="style/bootstrap-submenu.css" />
    <link rel="stylesheet" type="text/css" href="style/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="style/global.css" />

    <link rel="stylesheet" type="text/css" href="style/jqtree.css" />

</head>
<body onkeydown="trjs.events.eventKeydown(event);" onkeypress="trjs.events.eventKeypress(event);"
      ondragover="trjs.drag.drag_over(event)" ondrop="trjs.drag.drop(event)">
	<div id="aidecontext" >
		<button type="button" class="close" aria-label="Close" onclick="trjs.closehelp();"><span aria-hidden="true">&times;</span></button>
		<div id="aideid"></div>
	</div>
	<div id='trjs-msg' title='Messages' class='messages'></div>
	<div id='bb-info' class="bb-alert alert alert-info">
		<span>to be filled</span>
	</div>

<div id='opensave-bench-transcript' class='roundshadow hidetjs benchfull'>
    <div id="opensave-title-transcript" class="modal-header">
        <button type="button" class="close" onclick='trjs.editor.showOpensaveTranscript();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="opensavespan" class="modal-title">Load and save data</h4>
    </div><br/>
    <div class='benchfull'>
        <p class="hz"><span id='o1'>Load Transcription from local file : </span><input id="upload-input-transcript" type="file" name="file-transcript" onchange="trjs.io.localLoadTranscript();" /> <span id="trsize">size: </span><span id="transcript-file-size">0</span></p>
        <p class='info-opensave'><span id='o3'>Please click above to select a transcript file on your computer or drag a file in the input field above.</span></p>
    </div>
</div>
<div id='opensave-bench-media' class='roundshadow hidetjs benchfull'>
    <div id="opensave-title-media" class="modal-header">
        <button type="button" class="close" onclick='trjs.editor.showOpensaveMedia();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="opensave-span" class="modal-title">Load and save data</h4>
    </div><br/>
    <div class='benchfull'>
        <p class="hz"><span id='o2'>Load Media from local file : </span><input id="upload-media" type="file" name="file-media" onchange="trjs.io.localLoadMedia();" /> size: <span id="media-file-size">0</span></p>
        <p class='info-opensave'><span id='o3'>Please click above to select a media file on your computer or drag a file in the input field above.</span></p>
    </div>
</div>

<nav id="trjsnav" class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#" onclick='trjs.editor.about();' title='About the software'><img height="24px" src="style/trjs.png"></img></a>
    </div>
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
        <li class="dropdown" id="id-files-readwrite">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="files">Files </span><b class="caret"></b></a>
            <ul class="dropdown-menu">
            <li><a href="#" onclick="fsio.chooseFile('transcript', 'transcript');"><i class="fa fa-folder-open-o"></i> <span id="fopentrs" title=""> Open a transcription </span> <span id="fkey"> Ctrl O</span></a></li>
            <li><a href="#" onclick="fsio.chooseFile('media', 'media');"><i class="fa fa-file-sound-o"></i> <i class="fa fa-file-video-o"></i> <span id="fopenmedia" title=""> Choose a media</span> <span id="fkey"> Ctrl Alt O</span></a></li>
            <li><a href="#" onclick='trjs.transcription.loadNewGrid(true);'><i class="fa fa-file-o"></i> <span id="fnewtrs"> New transcription</span></a></li>
            <li class="divider"></li>
            <li class="dropdown-submenu">
                <a tabindex="0" data-toggle="dropdown"><span id="frecentfiles">Recent files</span></a>
                <ul class="dropdown-menu">
                    <li id='recentfiles' class="dropdown-header">
                        <span id="fhrecentfiles">Recent files</span>
                    </li>
                    <li><a href="#"><span id="frecentfilesempty">...recent files...</span></a></li>
                    <li id='recentfiles-end' class="divider"></li>
                    <li><a href="#" onclick='fsio.clearMRU();'><span id="feraserecentfiles"> Erase recent files</span></a></li>
                </ul>
            </li>
            <li class="divider"></li>
            <li><a href="#" onclick='trjs.io.doSave();'><i class="fa fa-save"></i> <span id="fsave" title=""> Save</span> <span id="fkey"> Ctrl S</span></a></li>
            <li><a href="#" onclick='trjs.io.doSaveAs();'><i class="fa fa-save"></i><i class="fa fa-pencil"></i> <span id="fsaveas"> Save as ...</span></a></li>
            <li><a href="#" onclick='trjs.io.innerSave();'><span id="fsavecache"> Save in the cache</span></a></li>
            <li class="divider"></li>
            <li><a href="#" data-toggle="modal" data-target="#openexports" onclick=""><i class="fa fa-download"></i> Export</a></li>
            </ul>
        </li>
        <li class="dropdown">
            <a id="id-edit-title" href="#" class="dropdown-toggle" data-toggle="dropdown">Edition <b class="caret"></b></a>
            <ul class="dropdown-menu">
            <li><a href="#" onclick='trjs.editor.showMetadata();'><i class="fa fa-archive"></i> <span id="emetadata"> Metadata</span></a></li>
            <li><a href="#" onclick='trjs.editor.showParticipant();'><i class="fa fa-user"></i> <span id="eparticip"> Persons</span></a></li>
            <li><a href="#" onclick='trjs.editor.showTemplate();'><i class="fa fa-sitemap"></i> <span id="estruct"> Templates</span></a></li>
            <li class="divider"></li>
            <li class="dropdown-header"><span id="fmult">Multiple selection</span></li>
            <li><a href="#" onclick='trjs.transcription.setMultipleSelection();'><i class="fa fa-th-list"></i> <span id="fmultshow"> Show/hide multiple selection</span></a></li>
            <li><a href="#" onclick='trjs.transcription.selectAllMS();'><i class="fa fa-check-square-o"></i> <span id="fmultselect"> Select all</span></a></li>
            <li><a href="#" onclick='trjs.transcription.deselectAllMS();'><i class="fa fa-square-o"></i> <span id="fmultdeselect"> Deselect all</span></a></li>
            <li id="id-edit-cut"><a href="#" onclick='trjs.transcription.cutMultipleSelection();'><i class="fa fa-cut"></i> <span id="fmultcut"> Cut lines</span></a></li>
            <li><a href="#" onclick='trjs.transcription.copyMultipleSelection();'><i class="fa fa-copy"></i> <span id="fmultcopy"> Copy lines</span></a></li>
            <li id="id-edit-paste"><a href="#" onclick='trjs.transcription.pasteMultipleSelection();'><i class="fa fa-paste"></i> <span id="fmultpaste"> Paste lines</span></a></li>
            <li id="id-edit-divider1" class="divider"></li>
            <li id="id-edit-undo"><a href="#" onclick='trjs.undo.undo();'><i class="fa fa-mail-reply"></i> <span id="eundo" title="">Undo</span> <span id="fkey"> Ctrl Z</span></a></li>
            <li id="id-edit-undo"><a href="#" onclick='trjs.undo.undoList();'><span id="elistundo" title="">List of Undo</span></a></li>
            <li id="id-edit-undo"><a href="#" onclick='trjs.undo.redo();'><i class="fa fa-mail-forward"></i> <span id="eredo" title="">Redo</span> <span id="fkey"> Ctrl Y</span></a></li>
            <li class="divider"></li>
            <li><a href="#" data-toggle="modal" data-target="#openparam" onclick="trjs.editor.showParams();"><i class="fa fa-cogs"></i> <span id="param-span">Parameters</span></a></li>
            </ul>
            <li class="dropdown" id="id-tools">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-wrench"></i> <span id='tools'> Tools </span><b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a href="#" onclick='trjs.check.checkFinal();'><i class="fa fa-legal"></i> <span id="echeck"> Check transcription</span></a></li>
                    <li class="divider"></li>
                    <li><a href="#" onclick='trjs.transcription.doShiftTimeLinks();'><i class="fa fa-history"></i> <span id="eshifttime"> Shift all time links: </span></a></li>
                    <li class="divider"></li>
                    <li><a href="#" data-toggle="modal" data-target="#openfile" onclick="fsio.chooseFile('mediaconvert', 'mediaconvert');"><i class="fa fa-file-sound-o"></i> <i class="fa fa-file-video-o"></i> <span id="fconvertmedia"> Convert a media file</span></a></li>
                </ul>
            </li>
        </li>
        <li><a href="#" id="transcript-name" onclick='trjs.editor.showMetadata();' title='Click to edit the metadata'>+-----+</a></li>
        <li><a href="#" onclick='trjs.editor.showSearch();'><i class="fa fa-search"> </i><span id='search' title=""> Search</span></a></li>
        <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id='shelp'> Help </span><b class="caret"></b></a>
            <ul class="dropdown-menu">
            <li><a href="#" onclick='trjs.editor.goHelpLocal();'><span id='squickhelp'> Quick help</span></a></li>
            <li><a href="#" onclick='trjs.editor.goHelp();'><span id='sextensivehelp'> Extensive help (website)</span></a></li>
            <li><a href="#" data-toggle="modal" data-target="#message-bindings" onclick='trjs.keys.showKeys();'><i class="fa fa-keyboard-o"></i> <span id='skeypadfunctions'> List of keypads functions</span></a></li>
            <li><a href="#" onclick='trjs.editor.updateCheck();'><i class="fa fa-spinner"></i> <span id='supdate'> Software update</span></a></li>
            <li class="divider"></li>
            <li><a href="#" onclick='trjs.log.show();'><i class="fa fa-envelope-o"></i> <span id='smessgs'> Messages</span></a></li>
            <li><a href="#" onclick='trjs.param.resetWarnings();'><span id='sresetwarnings'> Reset all warnings</span></a></li>
            <li class="divider"></li>
            <li><a href="#" onclick='trjs.editor.about();'><span id='sabouttrjs'> About TranscriberJS</span></a></li>
            </ul>
        </li>
        <li><a href="#"><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('new-trs',true);"></i></a></li>
        </ul>
    </div><!--/.nav-collapse -->
    </div>
</nav>

    <div id="search-bench" class="roundshadow hidetjs benchfull">
        <div id="search-title" class="modal-header">
            <div id="aide_fen"><span id='aide_search' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-search',true);"></i></span></div>
            <button type="button" class="close" onclick='trjs.editor.showSearch();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 id="search-span" class="modal-title">Search current file</h4>
        </div>
        <div class='benchfull' >
        <br/><div role="tabpanel">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist" id="myTab2">
                <li role="presentation" id="npssearch" class="active"><a href="#pssearch" aria-controls="ssearch" role="tab" data-toggle="tab"><span id="sssearch"> Recherche</span></a></li>
                <li role="presentation" id="npssearchrepl"><a href="#pssearchrepl" aria-controls="ssearchrepl" role="tab" data-toggle="tab"><span id="ssearchrepl"> Remplace</span></a></li>
                <li role="presentation" id="npsdisplay"><a href="#psdisplay" aria-controls="sdisplay" role="tab" data-toggle="tab"><span id="sdisplay"> Affichage</span></a></li>
                <li role="presentation" id="npsgoto"><a href="#psgoto" aria-controls="sgoto" role="tab" data-toggle="tab"><span id="sgoto"> Aller à</span></a></li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="pssearch"><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            &nbsp;<span id="ssearch">Search word or string: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input type="search" class="form-control" placeholder="..." id="search-elts" type="search" name="search-elts" onchange="trjs.editor.goSearch();" />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick='trjs.editor.goSearch();'><i class="fa fa-check" ></i></button>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-4">
                            &nbsp;<button class="btn btn-success" type="button" onclick='trjs.editor.prevSearch();'><i class='fa fa-arrow-left' ></i></button>
                            &nbsp;<button class="btn btn-success" type="button" onclick='trjs.editor.nextSearch();'><i class='fa fa-arrow-right' ></i></button>
                            &nbsp;&nbsp;<span id="search-posx" class="bgreen">0</span>/<span id="search-nbx">0</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4" id="r">&nbsp;<span id="sfields">Dans le champ: </span></div>
                        <div class="col-md-4">
                            &nbsp;<input type="checkbox" name="search-flag-loc" id="search-flag-loc" value=2 />
                            <label for="search-flag-loc"><span id="sloc">Locutors</span></label>
                            &nbsp;&nbsp;<input type="checkbox" name="search-flag-tr" id="search-flag-tr" value=1 />
                            <label for="search-flag-tr">Transcription</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-4">
                            &nbsp;<input type="checkbox" name="search-casenocase" id="search-casenocase" value=3 />
                            <label for="search-casenocase"><span id="signore">Ignorer minuscules/majuscules</span></label>
                        </div>
                    </div><!-- /.row -->
                    <div class="modal-footer">
                        &nbsp;<span id="sresu" class="green">Founded results: </span>
                        &nbsp; &nbsp;<span id="search-nb-results" class="bgreen">0</span>&nbsp;
                    </div>
                </div>

                <div role="tabpanel" class="tab-pane" id="pssearchrepl"><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            &nbsp;<span id="ssearchrep">Search word or string: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input type="search" class="form-control" placeholder="..." id="search-elts" type="search" name="search-elts" onchange="" />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick='trjs.editor.goReplace();'><i class="fa fa-check" ></i></button>
                                </span>
                            </div><!-- /input-group -->
                        </div>
                    </div><!-- /.row -->
                    <div class="row">
                        <div class="col-md-4">
                            &nbsp;
                        </div>
                        <div class="col-md-4">
                            &nbsp;<button class="btn btn-success" type="button"  onclick='trjs.editor.prevSkip();'><i class='fa fa-arrow-left'></i><i class='fa fa-pencil'></i>&nbsp;&nbsp;Replace and go next</button>
                            &nbsp;<button class="btn btn-success" type="button" onclick='trjs.editor.nextSkip();'><i class='fa fa-arrow-right'></i><i class='fa fa-pencil'></i>&nbsp;&nbsp;Replace and go previous</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            &nbsp;
                        </div>
                        <div class="col-md-4">
                            &nbsp;<button class="btn btn-success" type="button"  onclick='trjs.editor.prevReplace();'><i class='fa fa-arrow-left'></i>&nbsp;&nbsp;Go next</button>
                            &nbsp;<button class="btn btn-success" type="button" onclick='trjs.editor.nextReplace();'><i class='fa fa-arrow-right'></i>&nbsp;&nbsp;Go previous</button>
                            &nbsp;<button class="btn btn-success" type="button" onclick='trjs.editor.replaceCurrent();'><i class='fa fa-pencil'></i>&nbsp;&nbsp;Replace</button>
                            &nbsp;&nbsp;<span id="searchrepl-posx" class="bgreen">0</span>/<span id="search-nbx">0</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4" id="r">&nbsp;<span id="sreplfields">Dans le champ: </span></div>
                        <div class="col-md-4">
                            &nbsp;<input type="checkbox" name="searchrep-flag-loc" id="searchrep-flag-loc" value=2 />
                            <label for="searchrep-flag-loc"><span id="sreplloc">Locutors</span></label>
                            &nbsp;&nbsp;<input type="checkbox" name="searchrep-flag-tr" id="searchrep-flag-tr" value=1 />
                            <label for="searchrep-flag-tr"><span id="srepltrs">Transcription</span></label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-4">
                            &nbsp;<input type="checkbox" name="searchrep-casenocase" id="searcreph-casenocase" value=3 />
                            <label for="searchrep-casenocase"><span id="sreplignore">Ignorer minuscules/majuscules</span></label>
                        </div>
                    </div><!-- /.row --><br/><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            &nbsp;<span id="sreplrep">Replace by word or string: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input type="search" class="form-control" placeholder="..." id="search-elts" type="search" name="search-elts" onchange="" />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick=''><i class="fa fa-check" ></i></button>
                                </span>
                            </div><!-- /input-group -->
                        </div>
                    </div><!-- /.row -->
                    <div class="modal-footer">
                        &nbsp;<span id="sreplresu" class="green">Founded results: </span>
                        &nbsp; &nbsp;<span id="search-nb-results" class="bgreen">0</span>&nbsp;
                    </div>
                </div>

                <div role="tabpanel" class="tab-pane" id="psdisplay"><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            &nbsp;<span id="sshow" >Show locutors or tiers: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input type="search" class="form-control" placeholder="..." id="show-elts" type="text" name="show-elts"/>
                                <div class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick='trjs.editor.showElements();'><i class="fa fa-check" ></i></button>
                                    <button type="button" class="btn btn-default dropdown-toggle" onclick='trjs.editor.resetElements();'><i class="fa fa-refresh"></i></button>
                                </div>
                            </div><!-- /input-group -->
                        </div>
                    </div><!-- /.row -->
                    <div class="row">
                        <div class="col-md-4" id="r">&nbsp;<span id="sshowfields">Dans le champs:</span></div>
                        <div class="col-md-4">
                            &nbsp;<input type="checkbox" name="show-flag-loc" id="show-flag-loc" value=2 />
                            <label for="show-flag-loc"><span id="sshowloc">Locutors</span></label>
                            &nbsp;<input type="checkbox" name="show-flag-tr" id="show-flag-tr" value=1 />
                            <label for="show-flag-tr"><span id="sshowtrs">Transcription</span></label>
                        </div>
                    </div><!-- /.row --><br/><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            &nbsp;<span id="shide">Hide locutors or tiers: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input type="search" class="form-control" placeholder="..." id="hide-elts" type="text" name="hide-elts"/>
                                <div class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick='trjs.editor.hideElements();'><i class="fa fa-check" ></i></button>
                                    <button type="button" class="btn btn-default dropdown-toggle" onclick='trjs.editor.resetElements();'><i class="fa fa-refresh"></i></button>
                                </div>
                            </div><!-- /input-group -->
                        </div>
                    </div><!-- /.row -->
                    <div class="row">
                        <div class="col-md-4" id="r">&nbsp;<span id="shidefields">Dans le champs:</span></div>
                        <div class="col-md-4">
                            &nbsp;<input type="checkbox" name="hide-flag-loc" id="hide-flag-loc" value=2 />
                            <label for="hide-flag-loc"><span id="shideloc">Locutors</span></label>
                            &nbsp;<input type="checkbox" name="hide-flag-tr" id="hide-flag-tr" value=1 />
                            <label for="hide-flag-tr"><span id="shidetrs">Transcription</span></label>
                        </div>
                    </div><!-- /.row -->
                </div>

                <div role="tabpanel" class="tab-pane" id="psgoto"><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            <span id="sgotoline" title="">Go to line: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input id="goline" type="search" class="form-control" placeholder="..." onchange='trjs.editor.userGoLine();' />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick='trjs.editor.userGoLine();'><i class="fa fa-check" ></i></button>
                                </span>
                            </div><!-- /input-group -->
                        </div>
                    </div><br/>
                    <div class="row">
                        <div class="col-md-4" id="r">
                            <span id="sgototime" title="">Go to time: </span>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input id="gotime" type="search" class="form-control" placeholder="..." onchange='trjs.editor.userGoTime();' />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" onclick='trjs.editor.userGoTime();'><i class="fa fa-check" ></i></button>
                                </span>
                            </div><!-- /input-group -->
                        </div>
                    </div>
                </div>
            </div>
        </div></div>
    </div>
</div>

<div id="check-bench" class="roundshadow hidetjs benchfull">
    <div id="search-title" class="modal-header">
        <button type="button" class="close" onclick='trjs.editor.showCheck();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="check-span" class="modal-title">Check current file</h4>
    </div><br/>
    <div class='benchfull'>
    <p><button type="button" class="btn btn-success">
            &nbsp;<span id='icheck'>Check file </span><i class='iconcur fa fa-repeat' onclick='trjs.check.checkFinal();'></i>
        </button>
        &nbsp;&nbsp;&nbsp; <span id="checkfe">Founded errors:</span> <span id="check-nb-results" class="bred">0</span>
        &nbsp;<i class='iconcur fa fa-arrow-left' onclick='trjs.check.prevCheck();'></i>
        &nbsp;<i class='iconcur fa fa-arrow-right' onclick='trjs.check.nextCheck();'></i>
        &nbsp;<span id="check-posx" class="bred">0</span>/<span id="check-nbx">0</span>
        &nbsp;<span id="check-valx" class="bred"></span>
    </p>
    </div>
</div>

	<!-- MODAL FOR PARAMETERS -->
	<div class="modal" id="openparam">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<div id="aide_fen"><span id='aide_param' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-param',true);"></i></span></div>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title"><span id="pparam"> Parameters</span></h4>
				</div>
				<div class="modal-body">
					<div role="tabpanel">
						<ul class="nav nav-tabs" role="tablist">
							<li role="presentation" class="active"><a href="#plang" aria-controls="plang" role="tab" data-toggle="tab"><span id="pplang"> Language</span></a></li>
							<li role="presentation"><a href="#paffich" aria-controls="paffich" role="tab" data-toggle="tab"><i class="fa fa-desktop"></i><span id="ppdisplay"> Display</span></a></li>
							<li role="presentation"><a href="#pmodes" aria-controls="pmodes" role="tab" data-toggle="tab"><span id="ppem"> Edition modes</span></a></li>
							<li role="presentation"><a href="#pregl" aria-controls="pregl" role="tab" data-toggle="tab"><i class="fa fa-cog"></i><span id="ppsettings"> Settings</span></a></li>
							<li role="presentation"><a href="#pverif" aria-controls="pverif" role="tab" data-toggle="tab"><i class="fa fa-legal"></i><span id="ppchecking"> Checking</span></a></li>
						</ul>
						<div class="tab-content">
							<div role="tabpanel" class="tab-pane active" id="plang"><br/>
								<div class="row">
									<div class="col-xs-6 col-md-4"><input name="language-version" id="english-version" type="radio" onchange="trjs.editor.setLanguage();" value="0" checked="checked" /> <label for="english-version">English version</label> <img height="12px" src="style/gb.png"></img></div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4"><input name="language-version" id="french-version" type="radio" onchange="trjs.editor.setLanguage();" value="1" /> <label for="french-version">Version française</label> <img height="12px" src="style/fr.png"></img></div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4"><input name="language-spelling" id="english-spelling" type="radio" onchange="trjs.editor.setLanguageSpelling();" value="0" checked="checked" /> <label for="english-version">English spellchecker</label> <img height="12px" src="style/gb.png"></img></div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4"><input name="language-spelling" id="french-spelling" type="radio" onchange="trjs.editor.setLanguageSpelling();" value="1" /> <label for="french-version">Correcteur d'orthographe français</label> <img height="12px" src="style/fr.png"></img></div>
								</div>
							</div>
							<div role="tabpanel" class="tab-pane" id="paffich"><br/>
								<div class="row">
									<div class="col-md-9 col-md-push-3"><input name="show-partition" id="show-partition" type="checkbox" onchange="trjs.editor.setPartition();" /><label for="show-partition">&nbsp;<span id='ppartition'>Display partition</span></label></div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='pnbvisible'>Number of visible lines in partition: </span>
										<select class="nb-visible" id="nb-visible" onchange="trjs.editor.setNbVisible();">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
											<option value="6">6</option>
											<option value="7">7</option>
										</select></p>
									</div>
								</div>
								<div class="row">
									<div class="col-md-9 col-md-push-3"><input name="show-wave" id="show-wave" type="checkbox" onchange="trjs.editor.setWave();" /><label for="show-wave">&nbsp;<span id='pwave'>Display wave intensity</span></label></div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='pwavesample'>Number of samples per second</span>
										<select class="number-sample" id="number-sample" onchange="trjs.editor.setWaveSample();">
											<option value="8000">8000</option>
											<option value="4000">4000</option>
											<option value="2000">2000</option>
											<option value="1000">1000</option>
											<option value="500">500</option>
										</select></p>
									</div>
								</div>
								<div class="row">
									<div class="col-md-9 col-md-push-3"><input name="show-num" id="show-num" type="checkbox" onchange="trjs.editor.setNums();" /><label for="show-num">&nbsp;<span id='pshownumbers'>Show line numbers</span></label></div>
								</div>
								<div class="row">
									<div class="col-md-9 col-md-push-3"><input name="show-names" id="show-names" type="checkbox" onchange="trjs.editor.setLocNames();" /><label for="show-names">&nbsp;<span id='pshownames'>Show names or codes</span></label></div>
									<div class="col-md-3 col-md-pull-9"></div>
								</div>
								<div class="row">
									<div class="col-md-9 col-md-push-3"><input name="mode-showlinktime" id="mode-showlinktime" type="checkbox" onchange="trjs.editor.setShowLinkTime();" /><label for="mode-showlinktime">&nbsp;<span id='pshowlinktime'>Show link time</span></label></div>
									<div class="col-md-3 col-md-pull-9"></div>
								</div>
							</div>
							<div role="tabpanel" class="tab-pane" id="pmodes"><br/>
								<div class="row">
									<div class="col-md-6"><p><input name="reload-last-file" id="reload-last-file" type="checkbox" onchange="trjs.editor.setReloadLastFile();" /><label for="reload-last-file">&nbsp;<span id='preloadlastfile'>Reload last file when starting </span></label></p></div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4"><span id="pmode">Mode : </span></div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4">
										<input name="synchro-version" id="control-version" type="radio" onchange="trjs.param.synchro.control(true);" value="0" checked="checked" /><label for="control-version" >&nbsp;<span id="controlm" title="">Control mode</span></label>
									</div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4">
										<input name="synchro-version" id="block-version" type="radio" onchange="trjs.param.synchro.block(true);" value="1" /><label for="block-version" >&nbsp;<span id="lockm" title="">Lock mode</span></label>
									</div>
								</div>
								<div class="row">
									<div class="col-xs-6 col-md-4">
										<input name="synchro-version" id="free-version" type="radio" onchange="trjs.param.synchro.free(true);" value="2" /><label for="free-version" >&nbsp;<span id="freem" title="">Free mode</span></label>
									</div>
								</div><br/>
								<div class="row">
									<div class="col-xs-6 col-md-4">
										<input name="reorder-dynamic" id="reorder-dynamic" type="checkbox" onchange="trjs.editor.setReorder();" /><label for="reorder-dynamic">&nbsp;<span id='preorder'>Reorder lines dynamically </span></label>
									</div>
								</div>
							</div>
							<div role="tabpanel" class="tab-pane" id="pregl"><br/>
								<div class="row">
									<div class="col-md-6"><p><span id='pfmtlinktime'>Format of linked time: </span>
										<select class="format-parameters" id="format-time" onchange="trjs.editor.setFormatTime();">
											<option value="hms">0h00m00s</option>
											<option value="00:00">00:00</option>
											<option value="?:00:00">?:00:00</option>
											<option value="0:00:00">0:00:00</option>
										</select></p>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='pdigitlinktime'>Number of digits displayed for milliseconds: </span>
										<select class="nb-digits" id="nb-digits" onchange="trjs.editor.setNbDigits();">
											<option value="0">0</option>
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
										</select></p>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='pbackstep'> Value for backward step (F2) : </span> <input name="backward-step" id="backward-step" onchange="trjs.editor.setBackwardStep();" /> ms</p></div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='pforwstep'> Value for forward step (F3) : </span> <input name="forward-step" id="forward-step" onchange="trjs.editor.setForwardStep();" /> ms</p></div>
								</div>
							</div>
							<div role="tabpanel" class="tab-pane" id="pverif"><br/>
								<div class="row">
									<div class="col-md-6"><p><input name="check-at-save" id="check-at-save" type="checkbox" onchange="trjs.editor.setCheckAtSave();" /><label for="check-at-save">&nbsp;<span id='pcheckatsave'>Check transcription when saving </span></label></p></div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='pchecktype'>Type of transcription check</span>
									<select class="check-type" id="check-type" onchange="trjs.editor.setCheckType();">
										<option value="CHAT">CHAT</option>
										<option value="XMLTEI">XML TEI</option>
<!--										<option value="Valibel">Valibel</option>-->
										<option value="None">None</option>
									</select></p>
									</div>
								</div>
								<!--
								<div class="row">
									<div class="col-md-6"><p><span id='pspancontent'>Format of secondary lines</span>
									<select class="span-content" id="span-content" onchange="trjs.editor.setSpanFormat();">
										<option value="text">Texte</option>
										<option value="XMLTEI">XML</option>
									</select></p>
									</div>
								</div>
								-->
								<div class="row">
									<div class="col-md-6"><p><span id='pnbsaves'>Number of save versions: </span>
									<select class="nb-saves" id="nb-saves" onchange="trjs.editor.setNbSaves();">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
										</select></p>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6"><p><span id='nb-recent-files'>Number of recent files</span>
										<select class="nb-recent-files" id="nb-recent-files" onchange="trjs.editor.setNbRecentFiles();">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
											<option value="6">6</option>
											<option value="7">7</option>
											<option value="8">8</option>
										</select></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" >OK</button>
				</div>
			</div>
		</div>
	</div>

	<!-- MODAL FOR OPENING FILES (note: pd clavier  onkeydown="filetree.keyboard(event);" )-->
	<div class="modal-jqtree modal" id="openfile">
	   <div class="modal-content">
	      <div class="modal-header">
			<div id="aide_fen"><span id='aide_open' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-trs',true);"></i></span></div>
	        <button type="button" class="close" data-dismiss="modal" data-keyboard="true"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	        <h4><span class="modal-title" id="openfilelabel">Open a transcript file</span><span id='selection-folder'></span></h4>
	      </div>
	      <div class="modal-body">
	        <!-- 3 setup a container element -->
			<div id="containerjqtree" role="main">
				<div id="tree"></div>
				<div id="data">
					<div class="content default" style="text-align:left;"><span id="tree"></span></div>
				</div>
			</div>

	      </div>
	      <div class="modal-footer">

			<div class="input-group" style="float:left" id="qualselect">
					<p id="qualchoicep1"><span id='pusequality' title="">Method for quality selection: </span><input name="use-quality" id="use-quality" type="checkbox" onchange="trjs.editor.setUseQuality();" /><label for="use-quality">Automatic quality</label></p>
                    <p id="qualchoicep2"><span id="pquality" title="">Video quality: </span>
                        <input name="video-quality" id="masterQuality" type="radio" onchange="trjs.param.setMediaQuality('master');" value="5" checked="checked" /><label for="masterQuality">master</label>
                        <input name="video-quality" id="1080p" type="radio" onchange="trjs.param.setMediaQuality('1080p');" value="0" checked="checked" /><label for="1080p">1080p</label>
                        <input name="video-quality" id="720p" type="radio" onchange="trjs.param.setMediaQuality('720p');" value="1" checked="checked" /><label for="720p">720p</label>
                        <input name="video-quality" id="576p" type="radio" onchange="trjs.param.setMediaQuality('576p');" value="2" checked="checked" /><label for="576p">576p</label>
                        <input name="video-quality" id="480p" type="radio" onchange="trjs.param.setMediaQuality('480p');" value="3" checked="checked" /><label for="480p">480p</label>
                        <input name="video-quality" id="240p" type="radio" onchange="trjs.param.setMediaQuality('240p');" value="4" checked="checked" /><label for="240p">240p</label>
                    </p>
			</div>

			<div class="input-group" style="float:right">
				<span id="transcriptfiles_namelabel" class="input-group-addon">Name</span>
				<input type="text" id="transcriptfiles_name" class="form-control" placeholder="Filename" style="width:60%;">
				<div id="ctrls_names">
			 		<label class="radio-inline" id="transcriptfiles_label">
					  <input type="radio" name="inlineRadioOptions" id="transcriptfiles_choice" value="option1" onclick="fsio.chooseFile(undefined, 'transcript');"><span id="transcriptionFiles"> Transcripts</span>
					</label>
					<label class="radio-inline" id="mediafiles_label">
					  <input type="radio" name="inlineRadioOptions" id="mediafiles_choice" value="option2" onclick="fsio.chooseFile(undefined, 'media');"><span id="mediaFiles"> Media</span>
					</label>
					<label class="radio-inline" id="allfiles_label" style="margin-right: 20px;">
					  <input type="radio" name="inlineRadioOptions" id="allfiles_choice" value="option3" onclick="fsio.chooseFile(undefined, 'all');"><span id="allFiles"> All files</span>
					</label>
			        <button id="cancelChoice" type="button" class="btn btn-default" data-dismiss="modal" onclick="$('#openfile').hide(); trjs.closehelp();"><span id="annul">Cancel</span></button>
			        <button id="validateFileChoice" type="button" class="btn btn-primary" data-dismiss="modal" onclick="fsio.endChooseFile(); $('#openfile').hide();">OK</button>
		        </div>
			</div>
		  </div>
	   </div>
	</div>

<!-- MODAL FOR EXPORTS -->
<div class="modal" id="openexports">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title"><span id="exporttit">Export et téléchargement</span></h4>
            </div>
            <div class="modal-body">
                <div role="tabpanel">
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#expfic" aria-controls="expfic" role="tab" data-toggle="tab"><i class="fa fa-file-o"></i> <span id="exportfile">Fichier</span></a></li>
                        <li role="presentation"><a href="#expmedia" aria-controls="expmedia" role="tab" data-toggle="tab"><span id="exportmedia">Media</span></a></li>
                        <li role="presentation"><a href="#expsel" aria-controls="expsel" role="tab" data-toggle="tab"><span id="exportselect">Sélection multiple</span></a></li>
                    </ul>
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="expfic"><br/>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button class="btn btn-primary" type="button" onclick='trjs.io.localSave();'><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fdownload">Local export to TEI (.tei_corpo.xml)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"><span id="exportmenufile">Export to... </span></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportText(true);"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexporttexttime">to Text - with time marks (.txt)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportText(false);"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexporttextnotime">to Text - without time marks (.txt)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportRtf();"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportrtf">to RTF (.rtf)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportDocx('table');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportdocx">to Docx table (.docx)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportDocx('tab');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportdocxtab">to Docx tabulation (.docx)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary"  onclick="trjs.io.exportCsv();"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportcsv">to Csv (.csv)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary"  onclick="trjs.io.exportXlsx();"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportexcel">to Excel (.xlsx)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportTrans('.trs');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexporttrs">to Transcriber (.trs)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportTrans('.cha');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportclan">to Clan (.cha)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportTrans('.eaf');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportelan">to Elan (.eaf)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary" onclick="trjs.io.exportTrans('.textgrid');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fexportpraat">to Praat (.textgrid)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="expmedia"><br/>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-default" onclick="trjs.transcription.exportMStoMediaSubt('all');"><i class="fa fa-file-audio-o"></i> <i class="fa fa-file-movie-o"></i> </button>
                                    &nbsp;<span id="fmulttosubtall">all media with subtitles</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"><span id="exportmediafile">Export to media... </span></div>
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-default" onclick="trjs.transcription.exportMStoSubtSrt('all');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fmulttosubttextonlyallsrt">all subtitles without media (.srt file)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-default" onclick="trjs.transcription.exportMStoSubtAss('all');"><i class="fa fa-download"></i></button>
                                    &nbsp;<span id="fmulttosubttextonlyallass">all subtitles without media (.ass file)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="expsel"><br/>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary dropdown-toggle" onclick="trjs.transcription.exportMStoTei();">
                                    <i class="fa fa-download"></i></button>
                                    <span id="fmulttotei"> Export selection to TEI (.tei_corpo.xml)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary dropdown-toggle"  onclick="trjs.transcription.exportMStoMediaSubt();">
                                    <i class="fa fa-download"></i> <i class="fa fa-file-audio-o"></i> <i class="fa fa-file-movie-o"></i></button>
                                    <span id="fmulttosubt">Export selection to media with subtitles</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary dropdown-toggle" onclick="trjs.transcription.exportMStoMedia();">
                                    <i class="fa fa-download"></i> <i class="fa fa-file-audio-o"></i> <i class="fa fa-file-movie-o"></i></button>
                                    <span id="fmulttomedia">Export selection to media without subtitles</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary dropdown-toggle" onclick="trjs.transcription.exportMStoSubtSrt();">
                                    <i class="fa fa-download"></i></button>
                                    <span id="fmulttosubttextonlysrt">Export selection to subtitles without media (.srt file)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div><div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <button type="button" class="btn btn-primary dropdown-toggle" onclick="trjs.transcription.exportMStoSubtAss();">
                                    <i class="fa fa-download"></i></button>
                                    <span id="fmulttosubttextonlyass">Export selection to subtitles without media (.ass file)</span>
                                </div>
                                <div class="col-md-3 col-md-pull-9"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><span id="exportclose">Close</span></button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL FOR KEYBOARD INFO -->
<div class="modal" id="message-bindings" tabindex="-1" role="dialog" aria-labelledby="message-title" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Ok</span></button>
				<h4 class="modal-title" id="message-title">Bindings for the keyboard</h4>
			</div>
			<div class="modal-body" id="message-bindings-body">
				<div role="tabpanel">
					<ul class="nav nav-tabs" role="tablist">
						<li role="presentation" class="active"><a href="#bindings-content" aria-controls="bindings-content" role="tab" data-toggle="tab"><span id="bincon"> Bindings content</span></a></li>
						<li role="presentation"><a href="#apibindings-content" aria-controls="apibindings-content" role="tab" data-toggle="tab"><span id="apibincon"> API bindings content</span></a></li>
						<li role="presentation"><a href="#F1F2bindings-content" aria-controls="F1F2bindings-content" role="tab" data-toggle="tab"><span id="F1F2bincon"> F1/F2 bindings content (/fb/ means followed by)</span></a></li>
						<li role="presentation"><a href="#bindings-change" aria-controls="bindings-change" role="tab" data-toggle="tab"><span id="binchg"> Changing key bindings</span></a></li>
					</ul>
					<div class="tab-content">
						<div role="tabpanel" class="tab-pane active" id="bindings-content"><br/></div>
						<div role="tabpanel" class="tab-pane" id="apibindings-content"><br/></div>
						<div role="tabpanel" class="tab-pane" id="F1F2bindings-content"><br/></div>
						<div role="tabpanel" class="tab-pane" id="bindings-change"><br/></div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" >OK</button>
			</div>
		</div>
	</div>
</div>

<div id='metadata-bench' class='roundshadow hidetjs benchfull'>
    <div id="metadata-title" class="modal-header">
        <div id="aide_fen"><span id='aide_metadata' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-metadata',true);"></i></span></div>
        <button type="button" class="close" onclick='trjs.editor.showMetadata();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="metadata-span" class="modal-title">Metadata</h4>
        <a href='http://www.bnf.fr/fr/professionnels/formats_catalogage/a.f_dublin_core.html'><span id="infodc">(info about Dublin-Core)</span></a>
    </div><br/>
    <table class="paramtable" id="metadata" onkeydown="trjs.template.eventKeydownTMMeta(event);">
        <thead><th class="textcell">Type</th><th class="textcell">Property</th><th class="textcell">Value</th><td class="textcell">Info</th></thead>
    </table>
</div>
<div id="template-bench" class="roundshadow hidetjs benchfull">
    <div id="template-title" class="modal-header">
        <div id="aide_fen"><span id='aide_struc' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-struc',true);"></i></span></div>
        <button type="button" class="close" onclick='trjs.editor.showTemplate();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="template-span" class="modal-title">Document structure</h4>
    </div><br/>
    <h4 id="maintiers-span" class="modal-title">Main tiers</h4>
    <table class="paramtable" id="template-code" onkeydown="trjs.template.eventKeydownTMCode(event);">
        <thead><th class="textcell">Code</th><th class="textcell">Speaker's name</th><th class="textcell">Content</th><th class="textcell">Description</th></thead>
    </table>
    <h4 id="deptiers-span" class="modal-title">Dependent tiers and tier types</h4>
    <table class="paramtable" id="template-tier" onkeydown="trjs.template.eventKeydownTMTier(event);">
        <thead><th class="textcell">Tier</th><th class="textcell">Type</th><th class="textcell">Parent</th><th class="textcell">Speaker's name</th><th class="textcell">Content</th><th class="textcell">Description</th></thead>
    </table>
</div>
<div id="participant-bench" class="roundshadow hidetjs benchfull">
    <div id="participant-title" class="modal-header">
        <div id="aide_fen"><span id='aide_part' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-part',true);"></i></span></div>
        <button type="button" class="close" onclick='trjs.editor.showParticipant();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="participant-span" class="modal-title">List of speakers</h4>
    </div><br/>
    <table class="paramtable" id="participant" onkeydown="trjs.template.eventKeydownParticipant(event);">
        <thead><th class="textcell">ID</th><th class="textcell">Name</th><th class="textcell">Age</th></thead>
    </table>
</div>
<!--
<div class="modal" id="participant-bench" tabindex="-1" role="dialog" aria-labelledby="message-title" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Ok</span></button>
                <h4 class="modal-title" id="message-title">Locutors data</h4>
            </div>
            <div class="modal-body">
                <div id="participant-title" class="modal-header">
                    <div id="aide_fen"><span id='aide_part' title=""><i class="fa fa-question-circle fa-lg fa-colorred" onclick="trjs.contextualhelp('op-part',true);"></i></span></div>
                    <button type="button" class="close" onclick='trjs.editor.showParticipant();' data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 id="participant-span" class="modal-title">List of participants</h4>
                </div><br/>
                <table class="paramtable" id="participant" onkeydown="trjs.template.eventKeydownParticipant(event);">
                    <thead><th class="textcell">ID</th><th class="textcell">Name</th><th class="textcell">Age</th></thead>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" >OK</button>
            </div>
        </div>
    </div>
</div>
-->

<div id='media-visual'>

    <div id="media-block">
        <div id="palette-file">
            <i class="iconcur fa fa-folder-open-o fa-lg" onclick="fsio.chooseFile('transcript', 'transcript');" alt="Ctrl O" id="tp1" title=""></i>
            <i class="iconcur fa fa-file-sound-o fa-lg" onclick="fsio.chooseFile('media', 'media');" alt="Ctrl Alt O" id="tp2" title=""></i>
            <i class="iconcur fa fa-save fa-lg" onclick="trjs.editor.save();" alt="Ctrl S" id="tp3" title=""></i>
            <i class="iconcur fa fa-search fa-lg" onclick="trjs.editor.showSearch();" alt="Ctrl F" id="tp4" title=""></i>
            <i class="iconcur fa fa-mail-reply fa-lg" onclick="trjs.undo.undo()" alt="Ctrl Z" id="tp6" title=""></i>
            <i class="iconcur fa fa-mail-forward fa-lg" onclick="trjs.undo.redo()" alt="Ctrl Y" id="tp7" title=""></i>
            <i class="iconcur fa fa-list fa-lg" onclick="trjs.events.insertBlankLineAndRedraw()" alt="Ctrl I" id="tp8" title=""></i>
            <i class="iconcur fa fa-indent fa-lg" onclick="trjs.events.insertWithTimeAndRedraw()" alt="Ctrl Alt I" id="tp8b" title=""></i>
            <i class="iconcur fa fa-outdent fa-lg" onclick="trjs.events.setTimeReplaceLocAndRedraw()" alt="Ctrl M" id="tp9" title=""></i>
            <i class="iconcur fa fa-eraser fa-lg" onclick="trjs.events.deleteLineAndRedraw()" alt="Ctrl D" id="tp10" title=""></i>
            <i class="iconcur fa fa-compress fa-lg" onclick="trjs.events.joinLine()" alt="Ctrl J" id="tp11" title=""></i>
            <i class="iconcur fa fa-copy fa-lg" onclick="trjs.events.replicateLineAndRedraw()" alt="Ctrl R" id="tp12" title=""></i>
            <!--<i class="iconcur fa fa-expand fa-lg" onclick="trjs.events.splitLineAndRedraw()" alt="Ctrl Alt R" id="tp13" title=""></i>-->
            <i class="iconcur fa fa-angle-double-right fa-lg" onclick="trjs.media.playSlower()" alt="Ctrl B" id="tp14" title=""></i>&nbsp;&nbsp;
            <i class="iconcur fa fa-forward fa-lg" onclick="trjs.media.playFaster()" alt="Ctrl E" id="tp15" title=""></i>
            <i class="iconcur fa fa-plus-square fa-lg" onclick="trjs.media.makeBig()" alt="Alt F3" id="tp16" title=""></i>
            <i class="iconcur fa fa-minus-square fa-lg" onclick="trjs.media.makeSmall()" alt="Alt F2" id="tp17" title=""></i>
        </div>

        <div id="palette-edit">
            <i class="iconcur fa fa-th-list fa-lg" onclick="trjs.transcription.setMultipleSelection();" alt="" id="tpp1" title=""></i>
            <i class="iconcur fa fa-check-square-o fa-lg" onclick="trjs.transcription.selectAllMS();" alt="" id="tpp2" title=""></i>
            <i class="iconcur fa fa-square-o fa-lg" onclick="trjs.transcription.deselectAllMS();" alt="" id="tpp3" title=""></i>
            <i class="iconcur fa fa-cut fa-lg" onclick="trjs.transcription.cutMultipleSelection();" alt="" id="tpp4" title=""></i>
            <i class="iconcur fa fa-copy fa-lg" onclick="trjs.transcription.copyMultipleSelection();" alt="" id="tpp5" title=""></i>
            <i class="iconcur fa fa-paste fa-lg" onclick="trjs.transcription.pasteMultipleSelection();" alt="" id="tpp6" title=""></i>
            <i class="iconcur fa fa-download fa-lg" onclick="trjs.transcription.exportMStoTei();" alt="" id="tpp7" title=""></i>
        </div>

        <div id="media-cell">
            <i class="imedia fa fa-step-backward fa-2x" onclick="trjs.media.backwardStep();" alt="Backward 4 sec Alt Left" title="Backward jump: Alt left"></i>
            <div id="media-display">
                <!--
                <i class="iconcur fa fa-play-circle fa-2x button-slider" onclick="trjs.events.tab();"></i>
                -->
                <div id="nomedia-available" style="{ height:40px; width:100px; background-color:blue; }">No media</div>
            </div>
            <i class="imedia fa fa-step-forward fa-2x" onclick="trjs.media.forwardStep();" alt="Forward 4 sec Alt Right" title="Forward jump: Alt right"></i>
        </div>

    </div>

    <div id='wave' onmousedown="trjs.wave.mouse.downWave(event);" onmousemove="trjs.wave.mouse.moveWave(event);" onmouseup="trjs.wave.mouse.upWave(event);">
    </div>

    <div id='partition' onmousedown="trjs.partition.mouseDownPartition(event);">
    </div>
    <div id='slider-partition' class='slider'title='Jump to transcription locations'>
        <div id='canvas-partition' class='canvas-slider'></div>
    </div>
    <div id='buttons-middle'>
        <i id='button-page-left' title="" class="iconcur fa fa-hand-o-left fa-2x" onclick="trjs.partition.pageleft();"></i>
        <span id='aide_quest'" title=""><i class="fa fa-question-circle-o fa-lg fa-colorred" onclick="trjs.contextualhelp('transcribe',true);"></i></span>
        <span id="t1" title=""><i class="iconcur fa fa-play-circle fa-2x" onclick="trjs.media.playPause();" alt="Play/Pause"></i></span>
        <span id="t1bis" title=""><i class="iconcur fa fa-level-up fa-2x" onclick="trjs.events.enter();" alt="Mark time and go next line ENTER"></i></span>
        <span id="t4" title=""><i class="iconcur fa fa-edit fa-2x" onclick="trjs.events.insertBlankLineAndRedraw();" alt="Insert blank line F6"></i></span>
        <span id="t2" title=""><i class="iconcur fa fa-arrow-up fa-2x" onclick="trjs.events.setStart();" alt="Set time start F4"></i></span>
        <span id="t3" title=""><i class="iconcur fa fa-arrow-down fa-2x" onclick="trjs.events.setEnd();" alt="Set time end F5"></i></span>
        <span id="t5" title=""><i class="iconcur fa fa-refresh fa-2x" onclick="trjs.events.runCurrentLine();" alt="Play current line F7"></i></span>
        <span id="t6" title=""><i class="iconcur fa fa-repeat fa-2x" onclick="trjs.events.goContinuous();" alt="Play continuous F8"></i></span>
        &nbsp;&nbsp;
        <span id='iconzoomout' title=""><i class="iconcur fa fa-search-minus fa-lg" onclick="trjs.dmz.zoomOut();"></i></span>
        <span id='zoomvalue'></span>
        <span id='iconzoomin' title=""><i class="iconcur fa fa-search-plus fa-lg" onclick="trjs.dmz.zoomIn();"></i></span>
        <span id='aide_quest' title=""><i class="fa fa-question-circle-o fa-lg fa-colorred" onclick="trjs.contextualhelp('boutons-media',true);"></i></span>
        <span id='aide_quest_compl' title=""><i class="fa fa-question-circle-o fa-lg fa-colorred" onclick="trjs.contextualhelp('transcription-compl',true);"></i></span>
        <i id='button-page-right' title="" class="iconcur fa fa-hand-o-right fa-2x" onclick="trjs.partition.pageright();"></i>
    </div>
</div>

<div id='edition'>
    <div id='transcription-head'>
        <div id='media-info'>
            <span id='currenttime'></span>&nbsp;(<span id='starttime'></span>&nbsp;-&nbsp;<span id='stoptime'></span>)
            <span id='timewindow'>&nbsp;(<span id='startwindow'></span>&nbsp;-&nbsp;<span id='stopwindow'></span>)&nbsp;</span>
            <!--
            <span id='timewave'>&nbsp;(<span id='startwave'></span>&nbsp;-&nbsp;<span id='stopwave'></span>)&nbsp;</span>
            -->
            <!--<span id='insertreplacemode' onclick="trjs.editor.toggleInsert();">Insert mode</span>-->
        </div>
        <table class="transcribertable" id="transcript-head">
            <thead>
            <th class="num">-</th>
            <th class="info">-</th>
            <th class="code">Loc</th>
            <th class="ts">Ts</th>
            <th class="te">Te</th>
            <th class="vts">Ts</th>
            <th class="vte">Te</th>
            <th class="transcription">Transcription</th>
            </thead>
            <tr>
                <td id='table-loading'></td>
            </tr>
        </table>
    </div>
<!--
    <div id='transcription-bench'>
--> 
    <div id='transcription-bench' onkeypress="trjs.events.eventKeypress(event);">
        <table class="transcribertable" id="transcript" onclick="trjs.events.transcriptGotFocus(event);"
            onkeydown="trjs.events.enterKeydown(event);">
        </table>
    </div>
</div>
<!-- Indication for background processes -->
<div id="progress" class='clearfix'></div>
<!-- Special part for printing purposes -->
<iframe id="printframe" name="print_frame" width="0" height="0" frameborder="0" src="about:blank"></iframe>

</body>
</html>
